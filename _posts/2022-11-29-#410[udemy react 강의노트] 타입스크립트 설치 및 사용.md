---
layout: post
categories: ["udemy","react-study"]
title: "#410[udemy react 강의노트] 타입스크립트 설치 및 사용."
excerpt: "React typescript"
published: true
categories:
  - Blog
tags:
  - [React, typescript]

toc: true
toc_sticky: false

date: 2022-11-29
last_modified_at: 2022-11-29
---

<br><br>

# 타입스크립트 사용 환경 구축하기

<br><br>
웹에서 ‘TypeScript’를 검색한 다음
‘typescriptlang.org’로 가시면 됩니다
이 곳은 타입스크립트의 공식 웹 페이지로
타입스크립트에 관해 더 자세히 알아볼 수도 있고
타입스크립트 설치 방법도 볼 수 있죠

<br><br>
이제 각자 컴퓨터에 설치를 진행하기 위해
‘Install locally’ 버튼을 클릭하고요
그런 다음 이 명령어를 실행해야 합니다

<br><br>

```
npm install typescript
```

<br><br>
그러려면 Node.js가 설치되어 있어야 하죠  
그럼 이제 이 명령어를 실행해 타입스크립트를 설치하겠습니다  
이 명령어를 실행하면 특정 프로젝트에 한해서  
타입스크립트가 설치됩니다
<br><br>
시스템 전체에서 사용할 수 있도록 설치하고 싶다면  
g 옵션을 넣어 ‘npm install -g typescript’를 실행해야 합니다

<br><br>
하지만 보통은 특정 프로젝트에 설치하는 걸로 충분하죠  
그렇게만 해도 타입스크립트를 해당 프로젝트에서 사용할 수 있으니까요
프로젝트에 기본으로 있는 터미널 창을 열고
‘npm install typescript’ 명령어를 실행할 겁니다

<br><br>
그 전에 ‘npm init -y’ 명령어를 먼저 실행해서  
빈 package.json 파일을 먼저 생성해 줄게요  
그런 다음 ‘npm install typescript’ 명령을 실행합니다  
이렇게 하면 타입스크립트가 이 프로젝트에 설치됩니다

<br><br>
이 프로젝트는 아직 React 프로젝트가 아닙니다  
여전히 기본 웹 프로젝트일 뿐이죠  
React 프로젝트로는 조금 나중에 넘어갈 겁니다

<br><br>

# 타입스크립트 컴파일러

<br><br>
이제 타입스크립트가 설치되었습니다  
설치가 완료되면 타입스크립트 컴파일러를
사용할 수 있는데, 이것은 아주 중요한 기능이죠

<br><br>
앞서 배웠듯이, 타입스크립트는 자바스크립트의 슈퍼셋입니다  
자바스크립트 문법에 타입 표기 구문이 추가되었죠  
여기서 짚고 넘어갈 부분은 타입스크립트 코드가  
브라우저에서 실행되지 않는다는 겁니다  
브라우저에서 타입스크립트 코드를 실행하려고 해도  
실행되지 않죠

<br><br>
그래서 타입스크립트를 자바스크립트 형태로 컴파일해야 합니다  
컴파일이 진행되는 동안 타입 표기는 모두 삭제될 거예요  
자바 스크립트는 타입 표기를 이해하지 못하니까요
하지만 컴파일을 진행하면서 오류들을 찾아 알려줄 겁니다  
코드 작성창에 표시된 오류 알림 외에 추가적으로요

<br><br>
그러니까 컴파일 단계에서는 우리가 코드를 작성하면서  
미처 발견하지 못했던 문제점을 찾아 알려주는 거죠,  
컴파일된 코드는 브라우저에서 실행될 거고요

<br><br>
컴파일러를 사용하려면 여기 있는 ‘npx tsc’ 명령어를 실행해야 합니다

<br><br>

```
$ npx tsc
```

<br><br>
이렇게 ‘npx tsc’ 명령어를 실행하면 오류가 발생하는데요  
오류가 발생하는 이유는 명령어를 이렇게 실행하려면  
타입스크립트 구성 파일을 프로젝트 폴더에 추가해  
타입스크립트에게 컴파일할 파일을 알려줘야 하기 때문입니다  
구성 파일은 나중에 추가하도록 하고  
지금은 명령어를 살짝 바꿔서 실행해 보겠습니다  
컴파일할 파일을 직접 지정할 수 있거든요

<br><br>
이 경우에는 ‘with-typescript.ts’ 파일이니까
‘npx tsc with-typescript.ts’를 실행하겠습니다

<br><br>

```
$ npx tsc with-typescript.ts
```

<br><br>

```
with-typescript.ts:5:20 - error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.

5 const result = add("2", "5");
                     ~~~


Found 1 error in with-typescript.ts:5
```

<br><br>
그럼 지정한 파일이 컴파일 될 거예요  
컴파일 오류가 한 개 있네요  
코드 편집창에서 봤던 오류와 같은 오류입니다  
만약 코드를 작성할 때 발견하지 못했다면  
이 단계에서 발견했을 겁니다  
<br><br>
그리고 오류가 있는데도 with-typescript.js 파일이  
생성된 게 보일 겁니다  
기본적으로 컴파일 단계에 오류가 있더라도 컴파일은 완료됩니다  
오류가 있으니 알려주고 자바스크립트 파일도 제공하는 거죠

<br><br>
이 `with-typescript.js` 자바스크립트 파일은  
이 타입스크립트 파일을 기반으로 합니다  
보시는 것처럼 거의 동일한 코드예요

<br><br>
다만 타입 표기가 없고 상수(const)가 변수(var)로 바뀌었죠,  
기본 설정이 구 버전의 브라우저에서도 동작하는 형태로  
코드를 컴파일하는 것이기 때문입니다  
타입스크립트 구성 파일을 이용해 해당 설정을 바꿀 수 있지만  
아직 구성 파일이 없으니 코드를 직접 바꿔줍시다

<br><br>

```js
function add(a, b) {
  return a + b;
}
var result = add("2", "5");
console.log(result);
```

<br><br>
이 부분을 제외하면 우리가 작성한 타입스크립트 코드와 완전히 동일하죠  
이제 오류를 수정할 차례입니다  
이걸 수정하지 않는다면 타입스크립트를 사용할 이유가 없죠  
그럼 숫자로 변환하겠습니다 두 개의 문자열을 숫자로요  
이 상태로 저장할게요, 코드 작성창의 오류 표시가 사라졌죠  
다시 컴파일해 보면 오류 없이 컴파일이 완료되고  
이전과 동일하게 자바스크립트 파일을 얻을 수 있습니다

<br><br>
이제 이 자바스크립트 파일을 index.html로 가져와서  
브라우저에서 사용해 볼게요  
<br><br>

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React + TypeScript</title>
    <script src="with-typescript.js"></script>
  </head>

  <body></body>
</html>
```

저장하고 페이지를 다시 로드하면  
다시 ‘7’이 보이네요, 하지만 이제  
타입스크립트 파일에서 작업하고 컴파일한 뒤  
브라우저에서 실행해도 이전에 경험했던 오류는  
발생하지 않을 겁니다, 타입스크립트 덕분이죠

<br><br>
이제 설치도 완료했고, 컴파일러의 역할도 이해했으며  
전반적인 동작 방식도 알게 되었습니다  
그럼 타입스크립트를 사용할 때 알아야 할 몇 가지  
핵심 기능에 대해 자세히 설명한 후  
리액트와 함께 사용하는 방법에 대해 알아보겠습니다

<br><br>

# 타입스크립트의 핵심기능

<br><br>
설명을 위해 ‘basics.ts’ 파일을 추가할게요  
여기에서 타입스크립트에 대해 알아야 할 핵심 사항을  
살펴보도록 합시다

<br><br>
먼저 타입스크립트에서 사용하는  
기본 자료형(Type)부터 시작할 겁니다  
타입은 항상 사용하는 거니까요

<br><br>

## 1. 기본형 타입

<br><br>
먼저 기본형(Primitives) 타입입니다, 자바스크립트에서  
본 거죠, 숫자형, 문자열, 부울(Boolean)형이 있습니다  
<br><br>

## 2. 복잡한 형태 타입

<br><br>

물론 더 복잡한 형태의 자료형도 있습니다  
배열이나 객체 같은 것들이죠
<br><br>

## 3. 함수타입, 매개변수

<br><br>
함수 타입과 매개변수 등에 대해 알아볼 거예요

<br><br>
전반적으로 이런 내용들을 다룰 겁니다

<br><br>

# 기본형 타입

<br><br>
자바스크립트의 기본형 데이터는 숫자, 문자열, 부울 값(논리형)  
null, undefined이 있습니다, 심볼(symbol) 타입도 있지만  
여기서는 다루지 않을 거예요  
숫자형, 문자열, 논리형 그리고 null과 undefined가 좀더 중요하니까요

<br><br>
만약 ‘age’라는 변수를 만들어 사용자의 나이를  
저장한다면, 여기에는 명확히 숫자만 저장해야 한다고  
표시하고 싶을 겁니다

<br><br>
이걸 표시하는 데 타입스크립트를 사용할 수 있죠
변수 이름 뒤에 콜론을 붙이고
그 뒤에 타입을 표시해
해당 변수에 저장할 자료형 지정하면 됩니다

<br><br>
basics.ts파일
<br><br>

```ts
let age: number;
```

<br><br>
변수 선언은 이걸로 끝이죠  
나중에 값을 할당할 때는 숫자형이면 다 가능합니다  
소수점 이하 값을 갖는 실수형(float)을 포함해서요  
<br><br>

```ts
let age: number;
age = 12;
```

<br><br>
하지만 문자열을 할당하려고 하면 오류가 발생할 겁니다  
함수와 매개변수에서 발생했던 오류와 같습니다

<br><br>

```
Type 'string' is not assignable to type 'number'
```

<br><br>
그리고 여기에서 바로 값을 할당할 수도 있습니다
반드시 값을 할당하지 않고 따로 선언해야 하는 건 아니에요
둘 다 가능합니다

<br><br>

```ts
let age: number = 12;
```

<br><br>
이제 ‘userName’이라는 변수도 추가해 보겠습니다  
문자열 타입으로요 타입은 이렇게 지정할 수 있죠  
이 변수에는 문자열 타입을 사용하고 싶으니까요

<br><br>

```ts
let age: number;
age = 12;

let userName: string;
```

<br><br>

여기서 중요한 건 타입스크립트에서는  
‘number’와 ‘string’ 표기가  
소문자로 시작된다는 거예요  
 이렇게 ‘Number’로 사용하면 안됩니다

<br><br>
대문자로 써도 오류가 발생하진 않지만  
대문자로 쓰면 자바스크립트의 Number 객체를 가리키게 됩니다  
우리가 원하는 건 기본형 number 타입이고  
그러려면 소문자 ‘n’으로 써야 하죠, 문자열도 마찬가지예요  
기본형 string 타입을 사용하는 거니까  
소문자 ‘s’로 써야 합니다
당연히 여기에도 값을 할당할 수 있고요

<br><br>

```ts
userName = "Jane";
```

<br><br>
또한 부울 값을 저장할 수도 있습니다  
‘isInstructor’ 같은 변수를 만들어서요  
변수 뒤에 ‘boolean’ 타입을 붙이면  
참(true)이나 거짓(false) 같은 논리값을 저장할 수 있죠

<br><br>

```ts
let isInstructor: boolean;
isInstructor = false;
```

<br><br>
이 타입들이 우리가 지정할 수 있는 주요 기본형 타입입니다,  
여기서는 변수에 지정했지만 지난 시간에는 함수의 매개변수에  
타입을 지정했죠

<br><br>
타입을 지정할 수 있는 다른 영역에 대해서도 곧 살펴볼 겁니다

<br><br>
말씀드렸듯이 null과 undefined 타입도 있지만
무언가를 null로 지정하는 경우는 잘 없죠
‘hobbies’라는 변수를 만들고 이렇게 null로 지정할 수는 있겠죠

<br><br>

```ts
let hobbies: null;
```

<br><br>
하지만 이후에 다른 값을 할당하려고 하면 오류가 발생합니다  
이런 식으로는 잘 사용되지 않아요  
null과 undefined는 좀 다른 방식으로 사용되는데  
이에 대해서는 곧 배우게 될 겁니다

<br><br>
지금은 숫자형, 문자열, 논리형이  
주요 기본형 타입이라는 것만 기억해 주세요
