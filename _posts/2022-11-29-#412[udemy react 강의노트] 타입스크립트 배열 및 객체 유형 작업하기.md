---
layout: post
categories: ["udemy","react-study"]
title: "#412[udemy react 강의노트] 타입스크립트 배열 및 객체 유형 작업하기"
excerpt: "React typescript type inference"
published: true
categories:
  - Blog
tags:
  - [React, typescript type inference]

toc: true
toc_sticky: false

date: 2022-11-29
last_modified_at: 2022-11-29
---

<br><br>

# 좀더 복잡한 자료형 : 배열(array)과 객체(object) 타입

<br><br>

## 배열

<br><br>
만약 ‘hobbies’이 문자열 배열 타입이라면  
이렇게 타입을 지정해선 안되겠죠

<br><br>

```ts
let hobbies: string;
```

<br><br>
이 경우 hobbies에 문자열 하나만 저장할 수 있습니다  
하지만 저는 문자열 배열을 저장하고 싶거든요  
타입스크립트에게 문자열 배열을 저장할 거라고 알리려면  
타입을 ‘string’에서 끝내지 않고 뒤에 대괄호를 붙여야 합니다

<br><br>

```ts
let hobbies: string[];
```

<br><br>
이렇게 하면 타입스크립트는  
hobbies가 문자열 배열 타입이라는 걸 알게 됩니다  
타입스크립트에게 문자열 배열을 저장할 거라고 알리려면  
타입을 ‘string’에서 끝내지 않고 뒤에 대괄호를 붙여야 합니다  
이렇게 하면 타입스크립트는  
hobbies가 문자열 배열 타입이라는 걸 알게 됩니다

<br><br>
같은 방식으로 숫자 배열이나  
부울 값 배열 같은 것도 만들 수 있고요  
여기서는 일단 문자열 배열 타입을 지정할 거고  
이렇게 지정하고 나면 여러 개의 문자열을 할당할 수 있죠
<br><br>

```ts
let hobbies: string[];
hobbies = ["Sports", "Cooking"];
```

<br><br>
문자열이 아니라 숫자를 추가한다면  
다시 오류가 발생하죠  
이 값은 문자열이 아니고 문자열 배열만  
hobbbies에 저장하도록 지정했으니까요

<br><br>
배열 타입은 이런 방식으로 지정하면 됩니다  
타입으로 객체를 지정할 수도 있습니다

<br><br>
person이라는 변수를 만들어 볼게요  
여기에는 이름이나 나이가 아니라 객체를 저장할 겁니다
이런 형태로 값을 저장하고 싶거든요
객체에 이름과 나이를 담아서요
이런 객체가 person에 저장될 겁니다

<br><br>

```ts
let person;
person = {
  name: "Max",
  age: 32,
};
```

<br><br>
이렇게만 해도 동작할 거예요 타입스크립트는 특별한 구성이 없어도  
잘 동작하니까요 기본적으로 어떤 값이든 변수에 저장될 수 있습니다  
‘any’라는 특별한 타입이 있거든요 마우스 커서를 person에 올리면  
볼 수 있죠 기본 타입은 ‘any’로 간주됩니다

<br><br>

```
Variable 'person' implicitly has an 'any' type
```

<br><br>
명시적으로 지정할 수도 있고요

<br><br>

```ts
let person: any;
```

<br><br>
이렇게 표기하면 타입스크립트에게 이 변수에  
저장할 값의 타입에 대해 알려줄 게 없다고 말하는 겁니다  
어떤 값이든 저장될 수 있죠

<br><br>
하지만 이 타입은 예비적으로 사용되는 타입이므로  
사용하지 않는 게 좋습니다  
타입스크립트를 사용하는 주요 목적과 반대되는 거니까요  
any 타입을 사용하면 일반적인 자바스크립트와 다를 게 없죠

<br><br>
그냥 기본값이니까 여기서도 지우도록 하겠습니다  
대신 명확하게 어떤 객체를 person에 저장할 건지 정의하겠습니다  
예를 들면, 이런 객체만 저장하고 다른 구조를 가진 객체는  
저장되지 않게 하고 싶습니다

<br><br>
이렇게 부울 값을 가진 객체는 저장되지 않게 하고 싶거든요

<br><br>

```ts
person = {
  isEmployee: true,
};
```

<br><br>
이를 위해서는 타입을 지정해야 하죠  
하지만 이번에는 객체 타입을 추가할 겁니다  
객체의 형태를 정의하는 타입이죠  
객체는 중괄호를 사용해 정의합니다  
객체를 생성할 때 했던 것처럼요

<br><br>

```ts
let person: {};
```

<br><br>
하지만 이번에는 위치가 등호(=)의 오른쪽이 아니죠  
그러니까 객체를 생성하는 건 아닙니다

<br><br>
여기는 변수에 사용할 타입을 정의하는 위치죠  
변수 이름 옆에 있는 콜론의 오른쪽입니다  
이 위치는 타입을 지정하는 위치니까요  
<br><br>

지금은 객체를 생성하는게 아니라 객체의 타입을  
정의하고 있는 겁니다 객체의 구조를 정의하는 거죠  
여기 예로 든 것처럼 person에는 name이라는  
필드를 갖는 객체가 저장돼야 합니다

<br><br>
name필드의 값은 문자열 타입이고요
age 필드도 있을 겁니다, 값은 숫자고요

<br><br>

```ts
let person: {
  name: string;
  age: number;
};
```

<br><br>
그러니까 숫자형 값을 저장하는 필드죠  
이렇게 해서 타입스크립트에게 이런 타입의 객체만  
해당 변수에 저장될 수 있다고 알려줄 수 있죠

<br><br>
이 객체를 저장할 수 있는 이유입니다  
이 객체는 여기에 정의한 객체 타입과  
동일한 구조를 갖기 때문이죠

<br><br>
동일하게 name 필드가 있고 값은 문자열이며  
age 필드가 있고 값은 숫자입니다  
아래 있는 객체는 저장할 수 없습니다  
그래서 여기 오류가 표시되죠  
잘못된 타입을 갖고 있기 때문입니다

<br><br>

```ts
person = {
  isEmployee: true,
};
```

<br><br>

```
Type '{ isEmployee: boolean; }' is not assignable to type '{ name: string; age: number; }'.
```

<br><br>
이 객체 타입에는 isEmployee 필드가 있고  
여기에 부울 값이 저장되는데  
위에 정의된 타입과 맞지 않죠

<br><br>
배열 타입과 객체 타입을 정의하는 법을 살펴봤습니다  
물론, 이 둘을 합칠 수도 있어요  
객체를 여러 개 가진 ‘people’ 배열을 만든다고 해봅시다  
people은 이런 타입 정의를 갖는 객체로 구성되겠죠  
그럼 먼저 people의 타입을 이 객체 타입으로 설정합니다  
복사해서 사용할게요
그리고 배열로 만들려면 뒤에 대괄호를 붙여야 합니다

<br><br>

```ts
let people: {
  name: string;
  age: number;
}[];
```

<br><br>
이제 people에 이런 구조를 가진 객체 하나를 저장하는 게 아니라  
객체 배열을 저장하겠다고 표시한 거죠  
이런 식으로 좀더 발전된 형태로 구현할 수 있습니다  
다양한 타입스크립트 기능을 조합하고 다양한 타입을 조합해서요

<br><br>

# 타입 추론 이해하기

<br><br>
우리는 기본적인 타입들에 대해 배웠습니다  
이제 함수와 매개변수로 들어가기 전에  
타입 추론(type inference)을 먼저 설명하겠습니다

<br><br>
여기 나열된 예시를 보시면 변수를 선언하면서 타입도 지정했습니다  
그런 다음에 값을 설정했고요

<br><br>

```ts
let userName: string;
userName = "Jane";
```

<br><br>

# 타입 추론

<br><br>
코드를 작성할 땐 이 두 가지를 한 번에 하기도 하죠  
변수를 만들면서 바로 시작 값을 할당하는 겁니다  
여기에서 타입 추론에 대해 이야기해 보도록 하죠

<br><br>
course라는 변수를 하나 만들어 봅시다  
변수에는 강좌 제목을 저장할 겁니다  
‘React 완벽 가이드’ 이렇게 변수를 만들고 나서  
<br><br>

```ts
let course = "React- the Complete Guide";
```

<br><br>
여기에 숫자를 저장해 보겠습니다, 강좌 번호를 넣어볼게요  
<br><br>

```ts
let course = "React- the Complete Guide";
course = 123421;
```

<br><br>

그럼 오류가 발생하죠  
문자열 타입 변수에는 숫자를 할당할 수 없으니까요

<br><br>

```
Type 'number' is not assignable to type 'string'.
```

<br><br>
그런데 어떻게 이 오류가 발생한 걸까요?  
아무데도 타입을 정의하지 않았는데요  
여기에 타입스크립트의 핵심 기능인  
타입 추론이 사용된 겁니다

<br><br>
기본적으로 타입스크립트는 가능한 많은 타입을 유추하려고 합니다  
어떤 타입을 어디에 사용해야 할지 알아내려고 하죠,  
명시적인 타입 표기가 없어도요  
<br><br>

이는 우리가 작성할 코드가 줄어든다는 뜻입니다  
배운 대로 직접 타입을 지정할 수도 있습니다  
잘못된 건 아닙니다, 다만 불필요한 작업이죠

<br><br>

```ts
let course: string = "React- the Complete Guide";
```

<br><br>
이런 식으로 변수를 만들고 바로 초기화하면  
타입스크립트는 할당된 값의 자료형을 볼 겁니다  
그리고 변수에 저장된 값이 문자열이라는 걸 알겠죠  
그럼 해당 값의 자료형을 이 변수의 타입으로 여기고 사용하는 겁니다

<br><br>
이후 다른 타입의 값을 할당하려고 하면 오류가 발생할 겁니다,  
타입 추론 때문이죠 이렇게 타입 추론 기능을 활용해서  
코드를 작성하는 게 권장되는 방식입니다  
불필요하게 타입을 지정하지 않아도 되니까요  
물론 명시적으로 타입을 지정하셔도 됩니다  
대신 가능한 한 타입 추론을 사용하시는 게 좋아요
