---
layout: post
categories: ["udemy","react-study"]
title: "#395[udemy react 강의노트] 섹션 26. 리액트 앱 테스트 모듈"
excerpt: "React app test"
published: true
categories:
  - Blog
tags:
  - [React, test]

toc: true
toc_sticky: false

date: 2022-11-27
last_modified_at: 2022-11-27
---

<br><br>

# 리액트 앱 테스트 모듈 소개

<br><br>
이번 섹션은 리액트 앱을 테스트하는 것에 관한 겁니다  
자동화된 테스팅에 관한 것입니다
<br><br>
즉 우리가 작성한 코드를 테스트하도록 하는 코드를 작성하는 것이죠  
그렇습니다, 꽤나 메타적이죠  
그렇지만 현대판 애플리케이션의 제작에 있어서 중요한 부분입니다  
이 부분에 대해서는 또 하나의 강의를 만들 수도 있는데요  
오직 테스팅에 관해서만요,  
그렇지만 이것이 우리 과정에서의 초점은 아닙니다,  
저는 여러분에게 이번 섹션을 통해서  
이 자동화된 테스팅의 세계에  
입문시켜 드리고 싶습니다,  
물론 리액트 앱과 리액트 컴포넌트에 초점을 맞춰서 말이죠
<br><br>

그래서 이번 섹션에서는  
정확히 테스팅이란 무엇인지 그리고 왜 하는 것이고  
어떻게 하는 것인지 알아볼 겁니다  
<br><br>

유닛 테스트라 불리는 중요한 개념에 대해서 무엇인지 이해하고  
직접 발벗고 나서서 리액트 컴포넌트를 테스팅 하는 방법에 대한 예시들 및  
리액트 앱의 기본 구성 요소들에 대해서 살펴보겠습니다

<br><br>

# "testing"이란 무엇인가?

<br><br>
테스팅이란 것이 무엇일까요  
이미 우리 과정에서 많은 테스트들을 해봤는데요  
이것들은 수동적인 테스팅이었습니다

<br><br>

## 수동적인 테스팅

<br><br>
개발자로서 코드를 작성해서 특정 속성을 구현하거나  
특정 문제를 해결하고 그런 다음 물론 이 애플리케이션을  
브라우저에서 먼저 보고 거기서 시험적으로 테스트한 것을 의미합니다
<br><br>
아주 중요한 겁니다, 우리가 보는 것이 사용자가 보게 될 것이고  
그렇기 때문에 잘 다듬어서 작동하도록 확실히 해야합니다
<br><br>
하지만 이런 수동적인 앱 테스팅은 오류 발생이 쉽습니다
최소한 이것이 여러분이 수행하는 유일한 유형의 테스트인
경우 말이죠,
<br><br>

수동으로는 가능한 모든 조합과 시나리오를  
테스트하기 어렵기 때문입니다
<br><br>
만약 여러분이 아주 복잡한 리액트 앱을 가지고 있어서  
여러 페이지와 속성을 가지고 여기에 새로운 속성을 추가한다거나  
기존의 속성에 대한 측면을 변경한다면  
이 변경에 대한 테스트 또는 새로운 속성에 대한 테스트는 하겠지만  
애플리케이션의 다른 모든 부분을 항상 테스트 하지는 않을 겁니다  
여러분이 어떤 것을 변경한 것이 앱에서 다른 속성을 손상시킬 수 있습니다

<br><br>
그리고 우리가 모든 것을 항상 테스팅 하는 것이 아니기 때문에  
손상을 유발한 이 변경사항, 이 버그를 그냥 지나칠 수 있습니다,  
결국 나중에 잡을 수도 있겠지만 잡게 된다는 보장도 없죠,  
너무 늦게 잡아서 추가적인 작업을 해야할 수도 있습니다

<br><br>

# 자동화된 테스팅

<br><br>
그렇기 때문에 자동화된 테스팅을 하는 것이죠  
이것이 수동 테스트를 대체하는 것이 아닙니다  
수동 테스트는 언제나 매우 중요합니다  
거기에 추가하는 것이죠
<br><br>
자동화된 테스팅은 추가적인 코드를 작성해서  
이 코드가 실행되면서 다른 코드를 테스트합니다  
애플리케이션의 메인 코드를 말이죠  
<br><br>
엄청 이상하게 들릴 수 있지만 이것이 표준 절차입니다  
최신 개발 분야에서 해야하는 표준입니다

<br><br>
자동화된 테스팅의 장점은 전체 애플리케이션을  
자동으로 테스트하는 코드를 작성하기 때문에  
항상 모든 것을 테스트할 수 있다는 것이죠, 어떤 것을 바꾸더라도요  
많은 시간이 걸리지도 않습니다,  
<br><br>
이러한 자동화 테스트를 작성하고 서로 다른 개별 구성요소에 대한 테스트를 합니다  
그런 다음 이 모든 개별 구성요소들을 다같이 테스트합니다  
코드를 변경할 때마다 말이죠  
매우 기술적이지만 모든 것을 상시 테스트할 수 있습니다  
수동 테스팅과 함께하면 오류들을 훨씬 더 일찍 잡을 수 있고  
더 나은 코드를 작성해서 애플리케이션에 제공할 수 있습니다

<br><br>

# 다양한 종류의 테스팅

<br><br>
예를 들어
<br><br>

## 1. 단위테스트 (Unit Test)

<br><br>
단위 테스트가 있습니다, 이것은 매우 중요할 것입니다.  
단위 테스트는 애플리케이션의  
가장 작은 단위에 대한 테스트를 작성하는 겁니다  
애플리케이션에서 사용하는 개별 함수들을 테스팅 하는 겁니다  
<br><br>
또는 리액트 앱의 경우엔  
애플리케이션의 다른 컴포넌트와 독립적으로  
일부 컴포넌트를 테스팅 하는 것이죠, 따라서  
프로젝트에는 일반적으로 많은 단위 테스트가  
포함됩니다,  
<br><br>
애플리케이션을 구성하는 모든 단위, 모든 함수 및 컴포넌트를 테스트  
하기를 원하기 때문입니다  
그렇기 때문에 단위 테스트는 가장 일반적이고  
중요한 종류의 테스트입니다

<br><br>
아이디어는 단순히  
모든 개별 단위를 자체적으로 테스트 하면  
전체 애플리케이션도 작동한다는 겁니다  
하지만 전체 애플리케이션도 실제로 작동 하는지  
확인하기 위해서 이 모든 단위들을 모아서  
통합테스트를 해볼 수 있습니다

<br><br>

## 2. 통합 테스트(Integration Test)

<br><br>
통합테스트는 여러개의 구성 요소의 조합을 테스트합니다  
예를 들어 여러 구성요소가 함께 작동 되는지를요  
프로젝트에는 일반적으로  
몇가지 통합테스트가 포함됩니다  
<br><br>
하지만 단위테스트 만큼 많지는 않습니다  
이번 섹션을 통해서 보시겠지만 리액트 앱을  
태스팅 할 때 단위테스트와  
통합테스트를 구별하는 것이 항상 쉬운 것은 아닙니다  
흔히 컴포넌트를 테스트할 때 한 컴포넌트가  
다른 컴포넌트들도 사용하기 때문이죠  
<br><br>
이번 섹션을 통해서 이것이 작동하는 것을 볼 겁니다  
따라서 일반적으로 통합테스트도 매우 중요합니다  
하지만 단위테스트 보다는 통합테스트의 수가 적죠  
<br><br>

## 3. 전 구간 테스트 (End-to-End Test)

<br><br>
또 소위 말하는 통합 테스트와 전 구간 테스트가 있습니다  
애플리케이션의 전체 워크플로우를
테스트하는 것이라 할 수 있습니다
전체 시나리오를 말이죠, 사용자가 로그인하고
특정 페이지로 이동하는 것과 같이 말이죠
<br><br>
실제로 사람이 여러분의 웹사이트에서 수행하는 작업을  
재현하는 것을 목표로 합니다  
수동 테스트로도 하는 것을 단지 자동화하는 것이죠  
<br><br>
전 구간 테스트가 가장 중요한 테스트처럼 들릴지 모르지만  
확실히 중요하긴 합니다  
그렇기 때문에 전 구간 테스트를 실제로 작성하기도 하고요  
그렇지만 단위테스트와 통합테스트 만큼 많지는 않습니다  
단위 및 통합 테스트가 잘 작동한다면  
<br><br>
전제적으로 앱이 잘 작동한다고 꽤 확신할 수 있기 때문이죠  
단위 및 통합 테스트가 단순히 더 테스트 하기도 쉽고요  
보통 더 빠르고 집중적입니다,  
그리고 가능한 모든 시나리오를 테스트하는 것이 훨씬 쉽습니다  
모든 단위에 대해서 서로 다른 시나리오를 테스트해서 말이죠,  
앱을 전체로 보고 가능한 모든 시나리오를  
제시하는 것 보다 말이죠  
보통 이것이 전 구가 테스트에서 하는 것이죠 이것들도 중요합니다  
그러나 기본적으로 수동으로 수행하는 작업이기도  
하므로 전 구간 테스트 수가 더 적습니다

<br><br>
이것들이 여러분이 작성할 수 있는 세가지 주요 테스트 유형입니다  
이번 섹션은 테스팅에 대한 입문이기 때문에  
가장 중요한 유형의 테스트에 초점을 맞출겁니다  
단위 테스트와 어느 정도 통합 테스트를 보겠습니다  
모듈의 마지막에서는 여러분이 확인해 볼 수 있는  
몇가지 다른 리소스들도 짚어 드리겠습니다, 원한다면  
리액트 테스팅에 대해 더 자세히 알아볼 수 있도록 말이죠

<br><br>
<br><br>

# 무엇을 어떻게 테스트할 것인가

<br><br>
코드가 다른 도구에 의해 실행되도록 하는 방법과 같이  
어떻게 기술적으로 테스트 할지를 말하는 것이 아닙니다  
제가 말하는 것은 테스팅 코드에  
어떤 종류의 코드를 넣어야 할지 입니다

<br><br>
무엇을 테스트 할지에 대해서는  
제가 단위 테스트에서 언급 했듯이  
앱을 구성하는 구성요소들을 말이죠
<br><br>

서로 다른 기본 구성요소를 테스트 해보아야 합니다  
정말 작은 구성요소들을 테스트해야 합니다  
작고, 집중된 테스트로 각각 하나의  
주요 사항만 테스트하는 것이죠

<br><br>
여러개의 집중된 테스트를 가짐으로써 실패한 분명한  
이유를 알 수 있습니다, 만약 실패한다면 말이죠  
몇가지 큰 테스트를 가지는 것보다는요  
이런 테스트는 여러 가지 이유로 실패할 수 있습니다

<br><br>
이제 어떻게 테스트 할지에 관해서는  
발생할 수 있는 성공 및 오류 사례를 테스트합니다  
사용자가 여러분의 앱과 상호작용 했을 때 말이죠  
그리고 물론 드물지만 가능한  
시나리오와 결과도 테스트 해야 합니다  
이것은 우리가 코드를 작성하기 시작하면  
더 명확해질 겁니다
<br><br>

# 기술 설정및 관련도구 이해하기

<br><br>
그럼 이 코드를 어디에 작성하고  
이 테스팅 코드를 어떻게 실행할까요  
이것을 위해서는 추가적인 도구와 설정이 필요합니다  
구체적으로 말하면 테스팅 코드를 실행하고  
결과를 확인하기 위한 도구가 필요합니다
<br><br>
몇가지 결과를 성공으로 볼 수 있는지 또는 결과로 미루어  
봤을때 테스트가 실패했는지 여부를 판단하기 위한 도구가 필요합니다

<br><br>
그리고 리액트 앱에서는
자동화된 테스트와 이것들과 상호 작용하도록  
리액트 앱과 컴포넌트들을 렌더링하는 것을  
시뮬레이팅 하는 방법이 필요합니다

브라우저를 시뮬레이팅 하는 것이라고 할 수 있습니다
<br><br>

# JEST와 React Testing Library

<br><br>
테스팅 코드를 실행하고 결과를 확인하는  
첫번째 부분에 대해서는 보통 jest를 사용합니다  
이 작업을 위한 유일한 도구는 아니지만 매우 인기 있습니다,  
특히 리액트에서요 사용하기도 쉽습니다  
리액트 앱에서 컴포넌트를 렌더링하고 시뮬레이팅 하는 부분에 대해서는  
요즘에는 리액트 테스팅 라이브러리를 주로 사용합니다

<br><br>
이 두가지 도구는 모두 이미 설치 및 설정이 되어 있습니다
여러분이 create-react-app으로
생성한 프로젝트에서 작업할 경우에 말이죠

<br><br>
그러한 프로젝트 예시들이 여기 있습니다
이 프로젝트도 있는 것을 볼 수 있는데요
코드는 나중에 보도록 하겠습니다
이 안의 package.json을 보면
testing-library 패키지를 볼 수 있습니다
<br><br>

```json
  "dependencies": {
    "@testing-library/jest-dom": "^5.11.6",
    "@testing-library/react": "^11.2.2",
    "@testing-library/user-event": "^12.5.0",
```

<br><br>
이 프로젝트의 일부이죠, 제가
이것들을 설치한 것이 아닙니다
새로 생성한 리액트 프로젝트의 일부입니다
create-react-app으로 자동으로 생성된 겁니다, 바로 사용할 수
있도록 말이죠
여기서 보이지 않는 것은 jest인데요
jest-dom 테스팅 라이브러리 하위 패키지만
보입니다만 이것 또한
프로젝트의 일부입니다, 다른 의존성 중
하나에 대한 의존성과 같이요

<br><br>

```json
  "dependencies": {
    "@testing-library/jest-dom": "^5.11.6",
    "@testing-library/react": "^11.2.2",
    "@testing-library/user-event": "^12.5.0",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "react-scripts": "4.0.1",
    "web-vitals": "^0.2.4"
  },
```

<br><br>
그렇기 때문에 첨부란의 프로젝트와 같이 새로운 프로젝트에서도  
테스트를 실행할 수 있는 설정은 이미 다 되어 있습니다  
이것이 우리가 다음으로 할 것입니다,  
우리의 첫번째 테스트를 실행해 볼 겁니다,  
그리고 이것이 어떻게 작동하는지 이해해보겠습니다

<br><br>
<br><br>
<br><br>
