---
title: "#420[udemy react 강의노트] 리액트 타입스크립트 프로젝트"
excerpt: "React typescript project"
published: true
categories:
  - Blog
tags:
  - [React, typescript project]

toc: true
toc_sticky: false

date: 2022-11-30
last_modified_at: 2022-11-30
---

<br><br>

# React typescript project 만들기

<br><br>
먼저 새로운 리액트 프로젝트를 생성해야 합니다  
거기서 개발 서버를 구성하고 빌드 환경을 설정해서  
응용프로그램을 배포할 때 실행할 수 있어야 하죠

<br><br>
그리고 리액트 프로젝트가 타입스크립트를 사용하도록  
설정해야 합니다, 바닐라 자바스크립트 대신에요  
앞선 강의에서는 리액트 프로젝트에서  
바닐라 자바스크립트를 사용했지만요

<br><br>
다행인 점은, 설정하는 데 여전히 CRA를 사용한다는 겁니다
‘create react app’을 검색해서
‘Create React App Docs’라는 문서 페이지로 들어가세요

<br><br>

```
create react app
```

<br><br>
create-react-app.dev 사이트에 있죠
Create-React-App 사용법뿐만 아니라  
타입스크립트와 통합하는 방법 또한 볼 수 있습니다.  
<br><br>

```
Building your App
```

<br><br>
여기 ‘Building your App(앱 빌드)’를 클릭하면  
‘Adding TypeScript(TypeScript 추가)’ 문서가 나오죠  
여기에서 리액트 프로젝트에 타입스크립트를 추가하는 방법을 볼 수 있습니다  
CRA를 이용하는 방법이죠

<br><br>
물론 가장 쉬운 방법은 프로젝트를 만들 때  
타입스크립트 기반 프로젝트로 생성하는 겁니다  
기존 프로젝트에 타입스크립트를 추가하는 방법도 설명되어 있고요

<br><br>
여기서는 새로운 프로젝트를 생성하겠습니다
이 명령어를 가져와서 사용할 거예요

<br><br>

```
npx create-react-app my-app --template typescript

```

<br><br>
‘npx create-react-app’ 뒤에 제 프로젝트의 이름을 넣고요  
그리고 ‘—template’라는 중요한 플래그를 명령어에 추가해야 합니다  
그런 다음 값을 ‘typescript’로 설정합니다

<br><br>
이렇게 하면 특정 템플릿을 사용해서 프로젝트를 생성하기 때문에  
타입스크립트 기반의 프로젝트가 생성될 겁니다  
그럼 해당 명령어를 가져와서 실행해 보겠습니다

<br><br>
제 프로젝트 하단에서 터미널을 열고 명령어를 실행할 겁니다  
일단 react-ts로 이름을 바꿔줄게요, 이 프로젝트 이름으로요  
그리고 엔터 키를 치면 새로운 프로젝트가 생성될 겁니다  
기존 폴더에 이 react-ts 프로젝트가 생성되죠  
작업이 끝날 때까지 기다렸더니 프로젝트 생성이 완료되었습니다
‘react-ts’라는 하위 폴더가 생겼네요

<br><br>
이제 프로젝트 바로 밑에 새로운 폴더를 하나 만들건데  
폴더 이름은 ‘ts-basics’로 하고  
그런 다음 여기 있는 설정 파일들을 모두  
ts-basics 폴더로 옮길 겁니다  
이제 예전 강의에서 사용한 파일들은 이 폴더에 있습니다
<br><br>
그리고 ‘node-modules’ 폴더는 삭제하겠습니다  
이제 이 폴더 두 개만 남았네요  
물론 우리는 react-ts 폴더에서 작업을 진행할 겁니다

<br><br>
먼저 터미널에서 cd 명령어로 react-ts 폴더에 들어가고요  
여기서 ‘npm start’ 명령어를 실행하면  
마찬가지로 개발 서버를 구동시킬 수 있습니다
앞선 강의에서 내내 그랬던 것처럼요

<br><br>
다만 이번에는 리액트 프로젝트에서  
타입스크립트를 사용하도록 구성했죠  
‘localhost:3000’ 주소로 가보면  
항상 나오는 기본 시작화면이 그대로 나타납니다

<br><br>
하지만 src 폴더를 열어보면 달라진 게 있는데  
‘.js’ 파일 대신에 ‘.tsx’ 파일이 있습니다  
우리가 타입스크립트를 사용하고 있음을 나타내죠  
확장자는 .ts가 아니라 .tsx인데  
그 안에서 JSX 문법을 사용하기 때문이고요

<br><br>
JSX 문법을 사용할 때 개발 툴에  
불필요한 경고창이 뜨지 않게 하려면  
확장자로 .tsx를 사용해야 합니다  
파일에서 JSX 문법을 사용한다면요

<br><br>
나머지는 기본적으로 앞선 강의에서 봤던 코드와 동일하죠  
특별한 사항은 없어요 이제 다시 실행한  
개발 서버(dev server)에 관해 알아둬야 할 게 있습니다

<br><br>
서버는 이전처럼 동작하지만 밑단에서 추가로  
한 가지 작업을 더 수행한다는 거예요  
우리가 작성한 타입스크립트 코드를  
자바스크립트로 컴파일하여 최적화하는 작업을 수행합니다

<br><br>
리액트와 바닐라 자바스크립트를 사용했을 때  
단순히 이 개발 서버는 자바스크립트 코드를 받아  
파일들을 하나로 묶는 작업을 수행하고  
최적화 단계는 별도로 제공했습니다

<br><br>
지금은 이런 과정에 더해 추가적으로 타입스크립트를  
자바스크립트로 컴파일하는 단계가 있습니다  
이 역시 보이지 않는 곳에서 진행되죠

<br><br>  
그래서 우리가 타입스크립트를 자바스크립트로  
직접 변환할 필요가 없습니다  
타입스크립트를 직접 컴파일하거나  
컴파일러를 호출할 필요가 없죠  
밑단에서 수행되니까요  
또한 이 과정은 자동적으로 수행되기도 합니다  
‘npm run build’ 명령어를 통해 코드를 빌드한다면요

<br><br>
코드로 가서 파일을 정리하기 전에  
의존성(dependendies)에 대해 이야기하기 위해  
package.json 파일을 보겠습니다

<br><br>
대부분 전에 봤던 의존성과 동일합니다  
‘react’, ‘react-dom’, ‘react-scripts’도 있고요  
하지만 몇 가지 의존성이 추가된 게 보일 겁니다

<br><br>
특히 ‘typescript’가 추가되었다는 것과
이 타입들이 추가되었다는 걸 알 수 있죠

<br><br>

```json
"@types/jest": "^27.5.2",
"@types/node": "^16.18.3",
"@types/react": "^18.0.25",
"@types/react-dom": "^18.0.9",
```

<br><br>
‘typescript’는 타입스크립트용 컴파일러 언어로  
이 프로젝트 안에 설치되어 있습니다  
그래서 이 프로젝트에서 타입스크립트를 사용할 수 있죠

<br><br>
지금은 여기에 더해 types 패키지도 있습니다  
이 패키지들은 아주 중요하죠  
이 ‘@types’ 패키지는 번역기 역할을 합니다  
바닐라 자바스크립트 라이브러리와  
타입스크립트 프로젝트 사이에서요

<br><br>
우리는 이 프로젝트에서 react와 react-dom을  
라이브러리로 사용하고 있습니다  
물론 두 라이브러리는 자바스크립트로 작성되었고요

<br><br>
우리는 앞선 강의에서 react와 react-dom을 사용할 때  
자바스크립트만을 사용했습니다  
이제 타입스크립트에서 이 라이브러리를 사용하고  
타입스크립트 및 개발 툴이 제공하는 기능과  
자동 완성 같은 기능을 사용하기 위해서는  
언어 변환이 필요합니다 자바스크립트로 작성된  
바닐라 자바스크립트 라이브러리와 타입스크립트 프로젝트 사이에요

<br><br>
말하자면 타입 표기 기능을 이 자바스크립트 라이브러리에  
추가해 주는 겁니다 그게 ‘@types/react’와  
‘@types/react-dom’가 하는 일이고요

<br><br>

```ts
"@types/react": "^18.0.25",
"@types/react-dom": "^18.0.9",
```

<br><br>
모든 라이브러리에 언어 변환이 필요한 아닙니다
어떤 라이브러리에는 타입 표기 기능이 내장되어 있거든요  
자바스크립트만으로도 사용할 수 있도록요  
하지만 몇몇 라이브러리는 타입 표기 기능이 없기 때문에  
이렇게 타입 표기를 위한 의존성이 추가된 겁니다
이제 타입스크립트를 사용해 리액트 코드를 작성하러 가봅시다

<br><br>

# 타입스크립트 작성하기

<br><br>
App.test 파일과 logo 파일 reportWebVitals 파일과  
setupTests 파일은 모두 지웁니다.  
react-app-env.ts 파일은 그대로 둘 겁니다,  
타입스크립트와 우리 프로젝트를 연결하는 파일 같은 거니까요

<br><br>
그 다음 index.tsx 파일에서는

reportWebVitals 파일을 가져오는 부분을 지우고요
엄격 모드(strict mode) 부분도 삭제하겠습니다  
그리고 아래 부분도 지우겠습니다

<br><br>
App.tsx 파일에서는 로고 파일을 가져오는 부분을 지우고요  
‘react’를 가져오는 부분도 지울게요, 모던 리액트 프로젝트에서는  
이 부분을 생략해도 됩니다 타입스크립트 프로젝트에서도 마찬가지고요

<br><br>
JSX 콘텐츠 영역도 지우겠습니다 div 영역만 남기고요  
App.css 파일에서는 모든 코드를 지울게요

<br><br>

```ts
import "./App.css";

function App() {
  return <div className="App"></div>;
}

export default App;
```

<br><br>
index.css 파일은 처음 상태 그대로 놔둘 건데  
code selector 부분은 지우겠습니다  
body 선택자 부분은 유지하고요  
기본으로 설정된 font-family는 남겨둘게요  
작업할 내용과 상관이 없거든요

<br><br>
프로젝트가 정리되었습니다  
이 상태로 모든 파일을 저장하겠습니다  
타입스크립트로 리액트 코드를 작성해 보겠습니다

<br><br>
가장 중요한 부분이자 다행인 점은,  
대부분 앞선 강의에서 사용한 것과 동일한 코드를  
계속해서 사용할 수 있다는 겁니다  
모든 게 갑자기 달라지진 않을 거예요  
충분히 예상할 수 있는 일이죠

<br><br>
App.tsx 파일이나 index.tsx 파일을 보면  
여기 있는 코드는 앞선 강의에서 봤던 코드와  
완전히 동일하거든요 전혀 차이가 없습니다  
특이한 타입 표기도 없죠 여기엔 필요하지 않으니까요  
우리는 보통 타입스크립트가 가진 타입 추론을 사용합니다  
하지만 이 코드에는 타입이 필요한 부분이 별로 없습니다

<br><br>  
강의를 진행하면서 이런 부분을 바꿔볼 겁니다  
그리고 어떤 부분에 타입스크립트를 사용해서  
리액트 코드를 보완할 수 있는지 보게 될 겁니다

<br><br>
이제 리액트와 타입스크립트를 살펴볼게요  
단순하게 간단한 to-do app을 만들어보죠  
할 일을 추가하고 삭제할 수 있는 앱이요

<br><br>
복잡하고 화려한 앱은 아니겠지만
반드시 알아야 할 타입스크립트의 핵심 기능을
설명하는 데는 충분할 겁니다

<br><br>
먼저 ‘components’ 폴더부터 추가하겠습니다  
src 폴더 밑에요 폴더 안에 Todos.tsx 파일을 추가하고요  
이 파일이 새로 만들 리액트 컴포넌트를 들고 있을 겁니다

<br><br>
리액트 컴포넌트는 함수나 클래스 모두 가능하지만
앞선 강의에서 그랬던 것처럼  
여기서는 함수형 컴포넌트에 집중하겠습니다  
그럼 여기에 Todos() 함수를 추가하고요
함수를 export 시켜서
파일 밖에서도 접근할 수 있도록 합니다

<br><br>
지금까지 만들었던 리액트 컴포넌트들처럼  
화면에 표시할 수 있는 콘텐츠를 반환해야 하는데  
주로 JSX 콘텐츠를 반환하죠  
이 부분 역시 달라진 게 없죠

<br><br>

```ts
const Todos = () => {
  return;
};

export default Todos;
```

<br><br>
이 안에 ul을 만들게요 할 일이 몇 개 있으니까요  
그리고 list item(li) 요소를 몇 개 만들어  
할 일을 추가합니다  
‘리액트 공부하기’나 ‘타입스크립트 공부하기’처럼요

<br><br>

```ts
const Todos = () => {
  return (
    <ul>
      <li>Learn React</li>
      <li>Learn Typescript</li>
    </ul>
  );
};

export default Todos;
```

<br><br>
나중엔 이 목록을 동적으로 바꿀 겁니다  
사용자가 직접 할 일을 입력할 수 있도록요  
일단 지금은 이런 식으로 함수형 컴포넌트를  
만들겠습니다. JSX 코드를 직접 추가해서요

<br><br>
이제 Todos() 컴포넌트를 App.tsx에서 사용할 수 있습니다  
앱 컴포넌트에서요 늘 그랬듯이 컴포넌트를 가져오고요  
Todos를 ./components/Todos에서요  
파일 확장자를 생략하셔도 됩니다  
그런 다음 div 태그 안에서  
아니면 태그 바깥도 상관없고요 Todos를 넣어 줍니다  
그리고 ‘App.css’ 파일 역시 삭제해도 됩니다

<br><br>

```ts
import Todos from "./components/Todos";

function App() {
  return (
    <div className="App">
      <Todos />
    </div>
  );
}

export default App;
```

<br><br>
이 상태에서 파일들을 저장합니다  
브라우저로 가서 페이지를 다시 로드하면  
우리가 만든 목록이 나타나죠  
그렇게 신기하진 않을 거예요  
굉장히 단순한 리액트 컴포넌트니까요,  
하지만 이건 우리가 리액트 컴포넌트를  
만들었다는 걸 보여줍니다
