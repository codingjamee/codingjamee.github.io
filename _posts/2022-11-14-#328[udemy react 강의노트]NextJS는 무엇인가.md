---
title: "#328[udemy react 강의노트]NextJS는 무엇인가"
excerpt: "NextJS"
published: true
categories:
  - Blog
tags:
  - [Authentication]

toc: true
toc_sticky: false

date: 2022-11-14
last_modified_at: 2022-11-14
---

<br><br>
<br><br>

# NextJS란 무엇인가?

<br><br>
NextJS의 공식 웹사이트인 nextjs.org에 가보면  
production용 React 프레임워크라고 쓰여있다.  
정확히 무슨 뜻일까?  
말 그대로 NextJS는 대규모의 양산형 React앱을 더 편리하게  
구축할 수 있도록 많은 기능을 제공한다.  
강사 개인적으로는 NextJS를 ReactJS의 풀스택 프레임워크라고 하고 싶다고 한다.  
<br><br>
ReactJS도 사용자 인터페이스를 구축하기 위한 자바스크립트 라이브러리다.  
그 말은 프론트엔드 프로젝트에 추가할 수 있는 서드파티(외부) 패키지라는 뜻이다.  
즉, 전적으로 클라이언트 사이드 자바스크립트 코드라는 것이다.  
거기서 React를 사용하여 대화형Interactive 사용자 인터페이스를 구축한다.  
<br><br>
또한 복잡한 사용자 인터페이스를 자바스크립트 만으로 만드는 것보다  
훨씬 쉽게 구축할 수 있게 해주는 라이브러리기도 하다.

<br><br>

## 리액트는 라이브러리다.

컴포넌트, state, props를 이용해 사용자 인터페이스 부분에만 초점을 맞춘다.  
대규모의 React 프로젝트를 구축하려면 보통 라우팅에 필요한 라이브러리나  
인증에 필요한 라이브러리들을 추가해야 한다.  
<br><br>
NextJS는 React를 기반으로 하는 Framework라고 불린다.  
프레임워크와 라이브러리의 차이를 말하자면  
프레임워크가 라이브러리보다 더 크고 기능이 더 많다.  
하나에 초점을 맞추기 보다는 여러가지를 다룬다.
<br><br>
또한 코드를 작성하는 방법이나 파일을 구성하는 방법에 관한  
명확한 규칙과 지침이 있다.  
또한 React에 이미 있는 다른 라이브러리에 구축하는 프레임워크기도 하다.  
React기능을 향상하는 기능이다.  
이를 이용해 대규모 React앱을 편리하게 구축할 수 있다.

<br><br>

## NextJS는 React 개발자가 편하게 작업하도록 하는 것에 목표가 있다.

<br><br>
React 기반이고 원래 React앱에 추가했어야 할 여러 기능들로 React를 강화하여 준다.  
예를들어 라우팅같은 것들이다.  
<br><br>

## NextJS에서 핵심 기능들이 추가 되었다.

<br><br>
NextJS는 React앱에 많은 기능을 간단히 추가한다.  
그래서 바로 사용할 수 있다.  
NextJS를 사용하기만 하면 시간을 절약할 수 있다.  
대규모가 큰 React 생산 앱을 실제로 구축할 때 흔히 발생하는 문제를  
해결하기 위해 여러 외부 라이브러리를 추가할 필요가 없다.
이게 바로 NextJS가 프레임워크라고 불리는 이유다.
기능도 많고 규칙도 명확하다.

<br><br>

## The React Framework for Production

<br><br>
React Framework라고 하는 이유는 React를 사용해 React기능을 강화한다.  
React 코드를 작성하고 React 컴포넌트를 만드는 것은 똑같다.  
생산용 프레임워크라고 하는 이유는 누락된 기능들을 추가하기 때문인데,  
바로 생산을 실제로 준비할 때 흔히 발생하는 문제를 해결하기 위해  
React 앱에 추가해야 하는 기능들이다.

<br><br>
이제 NextJS에서 추가한 실제 기능들을 더 자세히 살펴보고  
정확히 어디에 도움되는지, 왜 더 편하게 작업할 수 있는지 알아보도록 한다.
<br><br>

<br><br>

# 첫번째 NextJS의 중요한 점은 Server-side 렌더링을 내장하고 있다는 것

<br><br>
서버사이드 렌더링이란, 페이지 컨텐츠를 클라이언트가 아니라  
전적으로 서버에서 준비하는 것을 의미한다.  
<br><br>
리액트만으로 만들어진 리액트앱을 읽어들인 React 페이지의 소스코드를 확인해보면  
실제로 페이지가 꽤 많이 비어있는 것을 볼 수 있다.  
HTML 뼈대만 있고 ID가 root인 div인 진입점이 있다.  
여기서 React 앱을 읽어들여 렌더링을 하는 것이다.  
<br><br>
이 렌더링은 React에서 이루어지는데, React는 클라이언트 사이드 자바스크립트라이브러리라서 모든 렌더링은 클라이언트 쪽에서 일어난다.  
즉 사용자 브라우저에 보이는 것은 서버에서 나온 것이 아니다.  
결과적으로 사용자가 페이지를 방문할 때  
서버에서 클라이언트로 전송되는 실제 HTML 코드는 상당히 비어있다.

<br><br>
큰 문제는 아니지만 무엇을 만드는지에 따라 문제가 될 수도 있다.  
예를들어 페이지가 서버에서 데이터를 받아와서 모임 목록을 화면에 보여줘야 한다면  
사용자는 처음에 로딩 상태를 보게 될 것이다.  
데이터를 받아오는 요청을 진행하는 동안 아주 잠깐 페이지가 깜빡인다.  
데이터 가져오기는 클라이언트 쪽에서 자바스크립트 코드가 실행될 때만 시작하기 때문이다.

<br><br>
그리고 그렇게 발송된 요청의 응답을 기다려야 한다.  
단순히 요청한 페이지에 해당 데이터가 아직 포함되지 않았기 때문이다.  
이게 반드시 문제인건 아니지만 사용자에게 겪게하고 싶지 않을 것이다.

<br><br>
검색엔진 최적화가 중요하다면 역시 문제가 될 수 있다.  
모든 페이지에서 문제 되는 건 아니고  
로그인 해야만 볼 수 있는 관리 대시보드인 경우, 검색엔진 최적화가 중요하지 않다.  
검색엔진은 대시보드를 절대 보지 못하므로 말이다.  
사용자마다 다르고 어떻게든 로그인해야 한다.  
<br><br>

하지만 검색엔진으로 찾아야 하는 콘텐츠가 많이 있는 공개 페이지의 경우  
검색엔진 최적화가 중요하다.
예를 들어 모임목록을 보면 사용자는 목록을 볼 수 있지만  
검색 엔진 크롤러는 사실 서버에서 들어온 비어있는 초기 HTML만 볼 수 있다.  
이렇게 검색 엔진 크롤러가 이 콘텐츠를 가져오지 못하면  
문제가 될 수 있다. 이럴 때 서버사이드 렌더링이 필요하다.  
<br><br>

# 서버사이드 렌더링

<br><br>
서버에서 해당 페이지를 사전 렌더링한 상태에서  
서버에 요청이 들어왔을 때 해당 데이터를 서버에서 가져오면  
완성된 페이지가 사용자와 검색 엔진 크롤러에 제공된다.  
<br><br>
그러면 사용자는 깜빡이는 로딩 상태를 보지 않아도 되고  
검색엔진도 해당 페이지 콘텐츠를 보게 될 것이다.  
이렇게 서버사이드 렌더링으로 문제를 해결할 수 있다.
<br><br>
서버에서 React 페이지, 즉 React 컴포넌트를 사전 렌더링할 수 있다.  
사실 ReactJS에서도 서버사이드 렌더링을 추가할 수 있는  
기능이 내장되어 있긴 하지만 제대로 구현하기가 까다로울 수 있다.  
추가 설정을 해야하기 때문이다.

<br><br>
NextJS에서는 훨씬 쉬워진다. 서버사이드 렌더링이 내장되어있기 때문이다.  
자동으로 페이지를 사전 렌더링하는 것이다.  
NextJS로 기본 NextJS앱을 만들면 추가 설정을 하지 않고도  
페이지에 방문했을 때 서버에서 기본적으로 바로 사전 렌더링을 한다.  
그러면 검색엔진 최적화에 아주 좋다. 검색엔진이 사용자가 보는대로 볼 수 있다.  
그리고 사용자에게도 화면이 깜빡이지 않는 초기 로딩 환경을 제공한다.

<br><br>
NextJS앱이 있는 페이지에서 소스코드를 살펴보면 여기에는 단순히  
비어있는 HTML뼈대가 아니라 모든 콘텐츠가 서버에서 받았기에  
해당 HTML페이지에 있는 것을 볼 수 있다.  
중요한 점은 NextJS를 이용하면 초기요청으로 읽어들인 후에도  
여전히 브라우저에서 기본 React앱과 기본 싱글페이지 애플리케이션을 실행할 수 있다.

<br><br>
사용자가 후속 탐색을 할 수도 있는데, 사용자가 페이지를 열어 탐색할 때  
이런 활동들은 브라우저에서 React가 관리하여 사용자에게  
빠른 대화형 인터페이스를 제공할 수 있다.  
일반적으로 React에서 제공하고자 하는 것이다.  
<br><br>
이런점 때문에 일반적으로 React를 사용한다.  
이런점을 유지하면서도 초기 로딩에서는 사전렌더링한 페이지를 받을 수 있다.  
NextJS에서는 클라이언트와 서버사이드 코드를 혼합한다는 뜻이다.  
이 학습 과정에서 서버쪽에서 돌아가는 코드나 클라이언트 쪽에서는  
코드를 어떻게 작성하는지, 이 두가지를 어떻게 혼합하는지 알아볼 것이다.
<br><br>
NextJS를 구성하는 주요기능인 내장 서버사이드 렌더링은  
그 자체로 강점을 지니며 React프로젝트를 구축할 때  
ReactJS만 쓰기 보다 nextJS를 써야할 강력한 이유다.

<br><br>

# 두 번째 NextJS의 주요기능 파일기반 라우팅

<br><br>
일반적인 React에는 심지어 라우터가 있지도 않다.  
라우팅이란 사용자에게 여러 페이지가 있는 것처럼 착각하게 만드는 것이라고 했다.  
탐색하고 다른 페이지를 로딩하는 것이 라우터의 역할이다.

<br><br>

## 일반적 라우팅, React 라우터 라이브러리

<br><br>

보통은 React 라우터 라이브러리를 사용한다.  
라우터는 기본적으로 URL을 감시하다가 바뀌면  
백엔드에 요청을 보내는 브라우저의 기본 동작을 막고  
대신 React를 사용하여 페이지에 다른 콘텐츠를 렌더링한다.  
다른 콘텐츠를 보여주는 것이다. 이 과정이 바로 라우팅이다.  
<br><br>
서버에 추가로 요청을 보내지 않고 URL을 기반으로 화면에 보이는 것을 바꿀 수 있다.  
보통 React로 만든 싱글페이지 애플리케이션에 머물기 때문이다.  
일반적으로 React에서는 라우팅이 코드에서 설정된다.

<br><br>

## NextJS를 활용한 라우팅의 다른점 : file-based Routing

<br><br>
NextJS는 이러한 코드 내 라우트 정의를 없앤다.  
대신에 NextJS로 파일과 폴더를 이용해서 페이지와 라우트를 정의할 것이다.  
NextJS 애플리케이션에는 특수 페이지 폴더가 있다.  
이름은 pages여야 한다.  
이 폴더를 구성하고 페이지가 지원하는 라우트와 경로를 정의하면 된다.

<br><br>
코드를 적게 쓰고 적게 작업을 하고, 이해하기도 쉽다.  
웹개발을 시작하는 방법과 아주 비슷하기 때문이다.  
HTML, CSS, 기본 Javascript로 개발을 시작한다면  
여러 HTML파일을 추가해서 기본 웹사이트를 만들 것이다.  
파일들이나 파일이 있는 폴더 이름을 이용해서 파일간 탐색을 할 수 있고  
파일을 연결할 수 있다.

<br><br>
NextJS는 기본적으로 비슷하게 가장 기초적이면서도  
이해하기 쉬운 라우팅 개념을 사용한다.  
NextJS는 중첩 라우팅이나 동적 매개변수를 이용한 동적 라우팅같이  
우리에게 필요한 모든 기능을 지원한다.  
<br><br>
<br><br>

# 세 번째 NextJS의 주요기능 풀스택 프레임워크인 NextJS

<br><br>
NextJS를 사용하면 개발자가 React프로젝트에 백엔드 코드를 쉽게 추가할 수 있다.  
풀스택 React프로젝트를 구축하려면 클라이언트 쪽 코드만 있어서도 안되고  
서버사이드 사전 렌더링을 해야 할 뿐만 아니라, 독립형 백엔드 코드도 있어야 한다.  
예를들어 파일 시스템에서 작업한다거나 데이터베이스에 접근할 수 있어야 한다.  
<br><br>
React프로젝트에 백엔드 API를 쉽게 추가할 수 있다.  
즉 NextJS를 이용하면 Next/ React 애플리케이션에 이러한 코드를 쉽게 추가할 수 있다.  
이런 방식으로 코드를 추가해서 데이터베이스나 파일에 데이터를 저장하거나  
거기서 데이터를 받아오거나 인증을 추가하는 등 모든 작업을 할 수 있다.  
NextJS로 쉽게 추가할 수 있다. 프로젝트 하나로 작업할 수 있다.  
NodeJS 코드를 반드시 알아야 겠지만 말이다.  
<br><br>
그러면 독립적으로 REST API프로젝트를 구축하지 않아도 된다.  
하나의 프로젝트, 즉 Next 프로젝트에 클라이언트 사이드 코드와  
React 유저 인터페이스를 추가하고 백엔드 API코드와 혼합하면 된다.  
<br><br>

<br><br>
<br><br>
